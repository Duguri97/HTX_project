<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이페이지</title>
    <!-- Bootstrap cdn 설정 -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <style>
        /* div {
            border: 1px solid red;
        } */

        a {
            text-decoration: none;
            color: black;
        }

        .container {
            width: 1900px;
            height: 900px;
            margin: auto;
            border: 1px solid;
            border-color: gainsboro;
            position: relative;
            overflow: hidden;
        }

        .nav-bar {
            display: flex;
            align-items: center;
            justify-content: space-around;
        }

        .nav-bar>div:nth-child(1) {
            position: relative;
            right: 380px;
        }

        .nav-bar>div:nth-child(2) {
            position: relative;
            left: 400px;
        }

        .drawer-nav {
            width: 200px;
            height: 100%;
            background-color: white;
            position: absolute;
            top: 0;
            left: 0;

            transform: translate(-100%, 0);
            box-shadow: 4px 0px 4px 0px gainsboro;
        }

        .align-end {
            text-align: end;
        }

        @keyframes slideIn {
            0% {
                transform: translate(-100%, 0);
            }

            100% {
                transform: translate(0, 0);
            }
        }

        .slide-in {
            /* 애니메이션 종료 후 종료 상태 유지 = forwards */
            animation: slideIn 1s forwards;
        }

        @keyframes slideOut {

            /* 0%, 100%랑 from, to가 같음 */
            from {
                transform: translate(0, 0);
            }

            to {
                transform: translate(-100%, 0);
            }
        }

        .slide-out {
            animation: slideOut 1s forwards;
        }

        .money {
            position: relative;
            top: 20px;

            display: flex;
            justify-content: center;
            align-items: center;
        }

        .people {
            position: relative;
            top: 40px;

            display: flex;
            justify-content: center;
            align-items: center;
        }

        .myPage {
            position: relative;
            top: 60px;

            display: flex;
            justify-content: center;
            align-items: center;
        }

        .header {
            height: 100px;
            background-color: black;
            color: white;
            font-weight: bolder;
            font-size: 24px;
            display: flex;
            justify-content: start;
            align-items: center;
            padding-left: 40px;
        }

        .body {
            height: 680px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .side-bar {
            width: 200px;
            height: 100%;
            border: 1px solid gainsboro;
            display: flex;
            justify-content: start;
            align-items: center;
            flex-direction: column;
        }

        .nav>div:nth-child(1) {
            width: 100%;
            height: 100px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            font-weight: bolder;
            border: 1px solid gainsboro;
        }

        .nav>div:nth-child(2) {
            width: 100%;
            height: 100px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            font-weight: bolder;
            border: 1px solid gainsboro;
        }

        .nav>div:nth-child(3) {
            width: 100%;
            height: 100px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            font-weight: bolder;
            border: 1px solid gainsboro;
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-direction: column;
        }

        .tab-pane {
            width: 1645px;
            height: 600px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .tab-pane img {
            width: 300px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            left: 700px;
        }

        .tab-content>div:nth-child(1) input {
            position: relative;
            left: 700px;
            top: 100px;
        }

        .tab-content>div:nth-child(2)>div:nth-child(1) {
            width: 300px;
            position: relative;
            left: 700px;
            top: 150px;
        }

        .tab-content>div:nth-child(2)>div:nth-child(2) {
            width: 300px;
            position: relative;
            left: 700px;
            top: 200px;
        }

        .tab-content>div:nth-child(2)>div:nth-child(3) {
            width: 300px;
            position: relative;
            left: 700px;
            top: 250px;
        }

        .tab-content>div:nth-child(2)>div:nth-child(4) {
            width: 300px;
            position: relative;
            left: 700px;
            top: 300px;
        }

        .tab-content>div:nth-child(2)>div:nth-child(5) {
            width: 300px;
            position: relative;
            left: 830px;
            top: 350px;
        }

        .text {
            position: relative;
            left: 800px;
            top: 50px;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="nav-bar">
            <div>
                <img onclick="f_drawer()" height="40px"
                    src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAYFBMVEX///8AAADPz89LS0uWlpb39/eCgoKQkJCxsbH29vZiYmI4ODh0dHTX19empqbFxcXr6+sQEBDh4eEbGxu7u7s0NDR6enpXV1egoKDJyclvb28ODg6IiIhcXFwfHx8ZGRnwNjATAAACZUlEQVR4nO3dCW7CMBCFYRdIw75vbSm9/y2rqKgUVRo72NJoxv93gveUkGBj7BAAAAAAAAAAAAAAAAAAoAKrdjq0Y9qu+tVbH1/sOa7TC7baYZ/UJvZrZtpJnzZrkgputHNm2KRUPGinzHKIF3zVzpjpNVZwq50w2zbScKodMNtULjjRzlfARGw41o5XwFhsONeOV8BcbGj3ZX83Extqpyui8oY77XQFXMWGJ+14BZzEhlbHTX/JY6iBdrwCFmJDD48auWBYaufLtow0NP803cUKhoV2xEyRT6H9+zR6j3bO2ikznFMKhrDSzvm05GnhxuYgap40l3izHlmbcpuNekx53y7kdmDHts/lAwAAAAAAAAAAxjRvy5Edy7e+P1zsh9q/JfU23PfoN7hqx33KdZBa0O5i9ugy9h+f2jkzfKYUfNdOmeU9XtD6Sm95lXfwsFhfXqofwkU7YLZLpKF2vgLkgnYXC93Jy4bsvgrv5JeivS9r/w3Fhh/a8QrYiA210xVR+TX0/zn0/yz1/z708KiRC1bwvdT+2CI6JeV+fFjBGL+CeRrLT5vEubYK5kuD/znvjvffLQAAAAAAAAAAgCHO94myt9fXoddeXxOj+7XFFkD/srtsKHHPPff7Jrrf+9L//qVf2hEzRfegtX2PdmL3qXa+AuSC/vfz9r8nu/999a3v5t2Rn6ba6YqovKH/c2ZsDpseyWcFWV/l3ZFXettfqh/9I7D7c9cqODvP/H+7EhazW5tke5RwhmVoLI+Bk84h9X+WbLA7hko9DzhUcKZzx/m53AAAAAAAAAAAAAAAAABg0zfn21Nf0tdOJAAAAABJRU5ErkJggg=="
                    alt="">
            </div>
            <div>
                <a href="./홈 화면.html"><img height="100px"
                        src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTj_hdS04bTj81P2DoYbPuM92tDd46uRdZbgQ&usqp=CAU"
                        alt=""></a>
            </div>
        </div>

        <div class="header">
            ◽마이페이지
        </div>

        <div class="body">
            <div class="side-bar">
                <ul class="nav nav-tabs" id="myTab">
                    <div class="active"><a href="#home" data-toggle="tab">프로필 사진 변경</a></div>
                    <div><a href="#profile" data-toggle="tab">아이디 & 비밀번호 변경</a></div>
                    <div><a href="#settings" data-toggle="tab">프로필 확인</a></div>
                </ul>
            </div>
            <div class="tab-content">
                <div class="tab-pane fade in active" id="home">
                    <img src="https://img.khan.co.kr/news/2023/01/02/news-p.v1.20230102.1f95577a65fc42a79ae7f990b39e7c21_P1.png"
                        alt="" id="profile-img" class="profile-img">
                    <input type="file" accept="image/*" onchange="f_drawImg()">
                </div>
                <div class="tab-pane fade in active" id="profile">
                    <div>
                        기존 ID:&nbsp;&nbsp; <input type="text">
                    </div>
                    <div>
                        기존 PW: <input type="text">
                    </div>
                    <div>
                        변경 ID:&nbsp;&nbsp; <input type="text">
                    </div>
                    <div>
                        변경 PW: <input type="text">
                    </div>
                    <div>
                        <button>확인</button>
                    </div>
                </div>
                <div class="tab-pane fade in active" id="settings">
                    <div>
                        <img src="https://img.khan.co.kr/news/2023/01/02/news-p.v1.20230102.1f95577a65fc42a79ae7f990b39e7c21_P1.png"
                            alt="">
                    </div>
                    <div class="text">
                        이름 : 아이유 <br>
                        <br>
                        ID : asdf <br>
                        <br>
                        PW : 1234
                    </div>
                </div>
            </div>
        </div>


        <div class="drawer-nav">
            <div class="align-end">
                <img onclick="f_close()" width="30" height="30"
                    src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQkfiVpqhOZdrEswUzcZEVpd0BRpYzZuI1f6Q&usqp=CAU"
                    alt="">
            </div>
            <div id="page1Btn" class="money"><a href="./근로소득.html">💸&nbsp;근로소득</a></div>
            <div id="page2Btn" class="people"><a href="./체납자현황.html">🕵️‍♂️&nbsp;체납자현황</a></div>
            <div id="page3Btn" class="myPage"><a href="./마이페이지.html">☪&nbsp;마이페이지</a></div>
        </div>
    </div>




    <script>
        const v_drawer = document.getElementsByClassName("drawer-nav")[0];
        console.log(v_drawer);

        function f_drawer() {
            v_drawer.classList.add("slide-in");
            v_drawer.classList.remove("slide-out");
            console.log(v_drawer);
        }

        function f_close() {
            v_drawer.classList.add("slide-out");
            v_drawer.classList.remove("slide-in");
            console.log(v_drawer);
        }

        $('#myTab a').click(function (e) {
            e.preventDefault();
            $(this).tab('show');
        });

        function f_drawImg() {
            // input file 태그
            console.log(event.target);

            // input file 태그에 첨부된 파일 목록(json 객체)
            console.log(event.target.files);

            // 해당 json 객체는 배열처럼 사용하면 된다.
            console.log(event.target.files[0]);

            // 해당 파일의 확장자
            console.log(event.target.files[0].type);

            // 이미지 파일이 아니면 알림 띄우기
            if (!event.target.files[0].type.startsWith("image/")) {
                alert("이미지 파일만 첨부해주세요.");
                // 첨부된 파일 제거
                event.target.value = "";
                return;
            }

            // 이미지 파일을 img-box에 그리기
            // 첨부된 이미지 파일
            let v_file = event.target.files[0];

            // 파일은 읽고(해석해서) 처리할 객체 생성
            let v_fileReader = new FileReader();

            // 파일 읽기가 완료되면 실행할 함수 작성
            v_fileReader.onload = function () {
                // 이미지 태그 생성 후 img-box에 넣기
                let v_img = document.createElement("profile-img");
                v_img.src = v_fileReader.result;
                v_img.style.height = "100%";

                // 이미지를 보여줄 곳의 클래스명을 가져와서 해당 위치에 추가
                let imgBox = document.getElementsByClassName("img-box")[0];
                imgBox.innerHTML = ""; // 이미지를 교체하기 전에 기존 이미지를 지워줍니다.
                imgBox.appendChild(v_img);

                document.getElementsByClassName("img-box")[0].appendChild(v_img);
            }

            let input = document.querySelector('input[type="file"]');
            let img = document.querySelector('#profile-img');

            if (input.files && input.files[0]) {
                let reader = new FileReader();

                reader.onload = function (e) {
                    img.src = e.target.result;
                };

                reader.readAsDataURL(input.files[0]);
            }

            // 파일 읽기
            v_fileReader.readAsDataURL(v_file);
        }









        let page1Srn = document.querySelector("#home");
        let page2Srn = document.querySelector("#profile");
        let page3Srn = document.querySelector("#settings");

        $('#myTab a').click(function (e) {
            e.preventDefault();
            $(this).tab('show');

            // 탭을 클릭할 때마다 모든 페이지 숨김
            page1Srn.style.display = "none";
            page2Srn.style.display = "none";
            page3Srn.style.display = "none";

            // 클릭한 탭에 따라 해당 페이지 표시
            if (e.target.getAttribute("href") === "#home") {
                page1Srn.style.display = "block";
            } else if (e.target.getAttribute("href") === "#profile") {
                page2Srn.style.display = "block";
            } else if (e.target.getAttribute("href") === "#settings") {
                page3Srn.style.display = "block";
            }
        });

        // 초기화면에서 page1Srn만 표시
        page1Srn.style.display = "block";
        page2Srn.style.display = "none";
        page3Srn.style.display = "none";
    </script>
</body>

</html>